spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    # aws-rds mysql 접속 정보
    #    url: jdbc:mysql://${RDS_HOST}:${RDS_PORT}/${RDS_DB}?serverTimezone=Asia/Seoul&characterEncoding=UTF-8
    #    username: ${RDS_USER}
    #    password: ${RDS_PASSWORD}

    # Railway 서버에서 제공하는 MySQL 접속 정보
    # 아래 환경변수들은 .env 또는 Railway 환경 변수에 자동으로 설정됨
    url: jdbc:mysql://${MYSQLHOST}:${MYSQLPORT}/${MYSQLDATABASE}?serverTimezone=Asia/Seoul&characterEncoding=UTF-8
    username: ${MYSQLUSER}
    password: ${MYSQLPASSWORD}

  jpa:
    hibernate:
      # 엔티티 변경 시 자동으로 DB 구조 업데이트
      ddl-auto: none
    # 실행되는 SQL 출력
    show-sql: true
    properties:
      hibernate:
        # SQL 보기 좋게 포맷팅
        format_sql: true
        dialect: org.hibernate.dialect.MySQL8Dialect
        show-sql: true

  application:
    # Spring Boot 애플리케이션 이름
    name: backend

  web:
    resources:
      # 정적 리소스(이미지 등) 매핑 비활성화
      add-mappings: false


  autoconfigure:

server:
  # 서버가 실행될 포트 (Railway는 내부적으로 매핑)
  port: 8080
  # 외부 접속 허용
  address: 0.0.0.0
  servlet:
    session:
      # 세션 만료 시간 무제한 (필요 시 수정 가능)
      timeout: -1
      cookie:
        same-site: none
        secure: true

# ----------------------------------------------------
# 무신사 이미지 기반 URL 설정
# 상품 이미지 변환 시 사용하는 base URL
# ----------------------------------------------------
musinsa:
  image-base-url: ${MUSINSA_IMAGE_BASE_URL}

# ----------------------------------------------------
# PortOne 결제 설정 (아임포트 V2)
# Store ID와 Secret은 절대 노출되면 안 되는 민감 정보.
# Railway 환경변수 또는 .env에서 불러옴.
#
# - store-id: PortOne 가맹점 식별 값
# - secret: 결제 조회/검증 시 필요한 API Secret
# --------------------------------------------------
portone:
  store-id: ${STORE_ID}
  secret: ${SECRET}